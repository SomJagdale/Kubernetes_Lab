In Kubernetes (K8s), YAML files are used to define the state of various objects like Pods, Deployments, Services, ConfigMaps, and others. Each YAML file consists of **keys** (fields) that provide configuration details for the Kubernetes object being created or modified.

Below is a list of commonly used **Kubernetes keys** along with their purpose:

---

### **1. `apiVersion`**
- **Purpose**: Defines the API version of the Kubernetes object (e.g., `v1`, `apps/v1`, `batch/v1`).
  - **Example**: `apiVersion: apps/v1`
  - **Usage**: Specifies the version of the API to use when interacting with the object (different resources may have different API versions).

---

### **2. `kind`**
- **Purpose**: Specifies the type of Kubernetes resource or object.
  - **Example**: `kind: Pod`, `kind: Deployment`
  - **Usage**: Tells Kubernetes what kind of object is being described (Pod, Deployment, Service, Job, etc.).

---

### **3. `metadata`**
- **Purpose**: Contains metadata like the name, namespace, labels, and annotations of the object.
  - **Keys inside `metadata`:**
    - `name`: Specifies the unique name of the object within a namespace.
    - `namespace`: Defines the namespace in which the object resides (optional; default is the `default` namespace).
    - `labels`: A key-value pair used for identifying and grouping objects.
    - `annotations`: Key-value pairs for storing additional, non-identifying metadata.
  - **Example**:
    ```yaml
    metadata:
      name: my-pod
      namespace: production
      labels:
        app: nginx
      annotations:
        description: "This is my pod"
    ```

---

### **4. `spec`**
- **Purpose**: Describes the desired state of the object.
  - **Example**: `spec` contains configurations for objects such as `Pod`, `Deployment`, `Service`, etc.
  - **Usage**: The most important section in a YAML file, defining how the object should behave.
  - **Example in a `Deployment`**:
    ```yaml
    spec:
      replicas: 3
      selector:
        matchLabels:
          app: nginx
      template:
        metadata:
          labels:
            app: nginx
        spec:
          containers:
          - name: nginx
            image: nginx:1.14.2
            ports:
            - containerPort: 80
    ```
  - **Common sub-keys within `spec`**:
    - **`replicas`**: Specifies the number of pod replicas in a deployment.
    - **`containers`**: Describes the list of containers in a pod.
    - **`volumes`**: Defines storage volumes to be used by the pod.
    - **`selector`**: Specifies which pods the Deployment should manage.
    - **`template`**: Provides a template for creating pods (used in Deployments, Jobs, etc.).

---

### **5. `status`**
- **Purpose**: Shows the current status of the object, usually generated by Kubernetes.
  - **Example**: `status` for a pod can include information like `phase`, `conditions`, `hostIP`, `podIP`, etc.
  - **Usage**: This is not user-defined; it is automatically populated by Kubernetes to reflect the objectâ€™s runtime state.
  - **Example in a `Pod`**:
    ```yaml
    status:
      phase: Running
      conditions:
      - type: Ready
        status: "True"
      podIP: 192.168.1.3
      startTime: "2021-10-10T10:00:00Z"
    ```

---

### **6. `selector`**
- **Purpose**: Used to select objects based on labels.
  - **Example**: Used in Deployments, Services, and StatefulSets to target specific pods.
  - **Usage**: Tells Kubernetes which pods to target for services or deployments.
  - **Example**:
    ```yaml
    selector:
      matchLabels:
        app: nginx
    ```

---

### **7. `template`**
- **Purpose**: A blueprint for the creation of pods in Deployments, Jobs, and DaemonSets.
  - **Example**: It contains a `metadata` and `spec` block that defines how the pods should be created.
  - **Usage**: Describes how the actual pod should be structured and behave.
  - **Example**:
    ```yaml
    template:
      metadata:
        labels:
          app: nginx
      spec:
        containers:
        - name: nginx
          image: nginx:1.14.2
          ports:
          - containerPort: 80
    ```

---

### **8. `containers`**
- **Purpose**: Defines the list of containers that run within a pod.
  - **Example**: `containers` is a list, and each container is defined by its own `name`, `image`, `ports`, and other configurations.
  - **Keys inside `containers`**:
    - `name`: The name of the container.
    - `image`: The Docker image to use.
    - `ports`: List of ports that the container will expose.
    - `resources`: Specifies CPU and memory limits and requests.
    - `volumeMounts`: Mounts storage volumes into the container.
  - **Example**:
    ```yaml
    containers:
    - name: nginx
      image: nginx:1.14.2
      ports:
      - containerPort: 80
    ```

---

### **9. `ports`**
- **Purpose**: Specifies ports that the container or service will expose.
  - **Example in a Pod**:
    ```yaml
    ports:
    - containerPort: 80
    ```
  - **Example in a Service**:
    ```yaml
    ports:
    - protocol: TCP
      port: 80
      targetPort: 8080
    ```

---

### **10. `volumes`**
- **Purpose**: Defines storage volumes that can be mounted into containers.
  - **Keys inside `volumes`**:
    - `name`: The name of the volume.
    - `emptyDir`: A type of volume for temporary storage.
    - `persistentVolumeClaim`: Refers to a PersistentVolumeClaim for persistent storage.
  - **Example**:
    ```yaml
    volumes:
    - name: config-volume
      configMap:
        name: my-config
    ```

---

### **11. `volumeMounts`**
- **Purpose**: Specifies how volumes are mounted into containers.
  - **Example**:
    ```yaml
    volumeMounts:
    - name: config-volume
      mountPath: /etc/config
    ```

---

### **12. `resources`**
- **Purpose**: Defines the CPU and memory requests and limits for containers.
  - **Keys inside `resources`**:
    - `requests`: The resources a container requests to run.
    - `limits`: The maximum resources a container is allowed to consume.
  - **Example**:
    ```yaml
    resources:
      requests:
        memory: "64Mi"
        cpu: "250m"
      limits:
        memory: "128Mi"
        cpu: "500m"
    ```

---

### **13. `env` / `envFrom`**
- **Purpose**: Used to pass environment variables into containers.
  - **Example for `env`**: Defines environment variables.
    ```yaml
    env:
    - name: ENV_VAR_NAME
      value: "value"
    ```
  - **Example for `envFrom`**: Loads environment variables from a ConfigMap or Secret.
    ```yaml
    envFrom:
    - configMapRef:
        name: my-config
    ```

---

### **14. `imagePullPolicy`**
- **Purpose**: Defines when Kubernetes should pull the container image.
  - **Values**: `Always`, `IfNotPresent`, `Never`.
  - **Example**:
    ```yaml
    imagePullPolicy: IfNotPresent
    ```

---

### **15. `livenessProbe` / `readinessProbe`**
- **Purpose**: Health checks for containers.
  - **Liveness Probe**: Determines if the container should be restarted.
  - **Readiness Probe**: Determines if the container is ready to serve traffic.
  - **Example**:
    ```yaml
    livenessProbe:
      httpGet:
        path: /healthz
        port: 8080
      initialDelaySeconds: 3
      periodSeconds: 5
    ```

---

### **16. `serviceAccountName`**
- **Purpose**: Specifies the ServiceAccount under which a pod should run.
  - **Example**:
    ```yaml
    serviceAccountName: my-service-account
    ```

---

### **17. `affinity` / `nodeSelector`**
- **Purpose**: Used to control pod placement on nodes.
  - **`nodeSelector`**: A simple key-value pair to ensure the pod runs on a specific node.
  - **`affinity`**: More complex rules for pod scheduling based on labels and conditions.
  - **Example**:
    ```yaml
    affinity:
      nodeAffinity:
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchExpressions:
            - key: kubernetes.io/e2e-az-name
              operator: In
              values:
              - e2e

-az1
    ```

---

### **18. `tolerations`**
- **Purpose**: Allows a pod to be scheduled on nodes with taints.
  - **Example**:
    ```yaml
    tolerations:
    - key: "key"
      operator: "Equal"
      value: "value"
      effect: "NoSchedule"
    ```

---
